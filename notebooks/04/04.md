# 4. Building Larger Models

The linear programs that we have presented so far have been
quite small, so their data and solutions could fit onto a
page.  Most of the LPs found in practical applications, however, have hundreds or
thousands of variables and constraints, and some are even
larger.

How do linear programs get to be so large?  They might be like the ones we
have shown, but with larger indexing sets and more data.  A steel mill
could be considered to make hundreds of different products, for
example, if every variation of width, thickness, and
finish is treated separately.  Or a large organization could have
thousands of people involved in one assignment problem.  Nevertheless,
these kinds of applications are not as common as one might expect.  As
a model is refined to greater levels of detail, its data values become
harder to maintain and its solutions harder to understand; past a
certain point, extra detail offers no benefit.
Thus to plan production for a few lines, considerable detail
may be justifiable; but to plan for an entire company, it may be better to have
a small aggregated, plant-level model that be run many times with
different scenarios.

A more common source of large linear programs is the linking
together of smaller ones.
It is not unusual for an application to give
rise to many simple LPs of the kinds we have discussed before;
here are three possibilities:

* Many products are to be shipped, and there is a transportation
problem (as in [Chapter 3](../03/03.md)) for each product.

* Manufacturing is to be planned over many weeks, and there is a
production problem (as in [Chapter 1](../01/01.md)) for each week.

* Several products are made at several mills, and
shipped to several factories; there is a production problem for
each mill, and a transportation problem for each product.

When variables or constraints are added to tie these LPs
together, the result can be one very large LP.  No individual part need
be particularly detailed; the size is more due to the large number of
combinations of origins, destinations, products and weeks.

This Tutorial shows how `AMPL` models might be formulated for the
three situations outlined above.  The resulting models are necessarily
more complicated than our previous ones, and require the use of a few
more features from the `AMPL` language.  Since they build on the
terminology and logic of smaller models that have already been
introduced, however, these larger models are still manageable.
